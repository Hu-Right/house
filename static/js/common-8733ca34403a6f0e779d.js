(window.webpackJsonp=window.webpackJsonp||[]).push([[22],[,,,,,,,function(e,t){var r=!1,n=$(window),o=[];function i(){r&&clearTimeout(r),r=setTimeout(function(){!function(){for(var e=n.scrollTop(),t=o.length-1;t>=0;t--)try{o[t].call(n,e)}catch(e){console.error&&console.error(e.stack)}}()},30)}function a(e){e?n.scroll(i):n.unbind("scroll",i)}e.exports=function(e){if(!e)throw"fun is required";return function(e){o.length||a(!0),o.push(e)}(e),{destroy:function(){!function(e){var t=$.inArray(e,o);t>=0&&o.splice(t,1),o.length||a(!1)}(e)}}}},,function(e,t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(t){return"function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?e.exports=n=function(e){return r(e)}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)},n(t)}e.exports=n},function(e,t){var r={host:"",scheme:"",port:"",env:"online"};var n={getEnv:function(){return r.env},fixedHost:function(e){if(!e)return r.host;var t=e.substring(0,e.indexOf("."));switch(r.env){case"dev":case"test":if(0!==t.indexOf(r.env))return r.env+e}return e},fixedUrl:function(e){e.indexOf("http")<0&&(e=location.protocol+e);var t=$.parseURL(e);return t.host?(t.host=n.fixedHost(t.host),t.port=r.port,t.scheme||(t.scheme=r.scheme)):(t.host=r.host,t.scheme=r.scheme,t.port=r.port),function(e){var t="";return e.scheme&&(t+=e.scheme+"://"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+="/"+e.path),e.query&&(t+="?"+e.query),e.hash&&(t+="#"+e.hash),t}(t)},isSameDomain:function(e){return $.parseURL(e).host==r.host}};(function(){var e=$.parseURL(location.href);r.host=e.host,r.scheme=e.scheme,r.port=e.port;try{var t=r.host.match(/\.?(\w+)\.(ke|lianjia)\.com/)[1]}catch(e){t="dev"}0===t.indexOf("dev")?r.env="dev":0!==t.indexOf("test")&&0!==t.indexOf("off")||(r.env="test")})(),e.exports=n},,,,,,,,,function(e,t,r){var n=r(45);var o=$(".search-tab .tabs");var i=$(".search-tab .check");var a=$(".feedback-box").html(),s=$(".overlay_bg");function c(){$("#feedback");var e=$(".feedback-box");e.fadeOut().removeClass("bounceIn"),e.html(a),s.fadeOut()}function l(e,t){searchHis=localStorage.getItem(e),searchHis=JSON.parse(searchHis),searchHis?($.each(searchHis,function(e,r){r&&r.name==t.name&&searchHis.splice(e,1)}),searchHis.unshift(t),saveQuery=searchHis.slice(0,10)):saveQuery=[t],localStorage.setItem(e,JSON.stringify(saveQuery))}function d(){var e=$(".btn");if($(".search-tab .check").length>0){var t=$(".search-tab .check").attr("actdata"),r=e.attr("daty-id");menu=t+r,$("#keyword-box").on("formSelect",function(e,t){$(this).val($(t).find(".hot-title i").text()),url=$(t).attr("actdata"),url=url.substring(url.indexOf("&url=")+5,url.lastIndexOf("&title")),url=unescape(url),$(this).attr("url",url)}),e.click(function(e){if($("#keyword-box").attr("url")){var t=$("#keyword-box").val(),r=$("#keyword-box").attr("url");query={name:t,url:r},l(menu,query)}else{var n=$(".search-txt form").attr("data-action");t=$("#keyword-box").val(),r=location.protocol+"//"+window.location.host+n+t;""!=t&&(query={name:t,url:r},l(menu,query))}}),$(".hot-sug").delegate("li a","click",function(e){var t=$(e.currentTarget);name=t.text(),url=t.attr("href"),query={name:name,url:url},l(menu,query)}),$("#suggest-cont").delegate("ul li","click",function(e){var t=$(e.currentTarget);name=t.find(".hot-title i").text(),url=t.attr("actdata"),url=url.substring(url.indexOf("&url=")+5,url.lastIndexOf("&title")),url=unescape(url),query={name:name,url:url},l(menu,query)});var n=localStorage.getItem(menu);if(null!=(n=JSON.parse(n))){$("#keyword-box").val(n[0].name);var o=$(".hot-sug ul#"+t+" .list"),i=$(".hot-sug ul#"+t+" .hot-name"),a=o.html();i.text("搜索历史"),o.html(""),$.each(n,function(e,t){var r='<li><a href="'+t.url+'" data-log_index="'+(e+1)+'" data-log_value="'+t.name+'">'+$.encodeHTML(t.name)+"</a></li>";o.append(r)});var s=$("#"+t+" .del");s.show(),s.click(function(e){localStorage.removeItem(menu),o.html(""),o.append(a),i.text("热门搜索"),s.hide(),texval})}}}e.exports={init:function(e){var t,r,l,u,g;d(),$(document.body).on("mousedown",function(e){$(e.target).closest(".hot-sug,.search-txt ul,.del").length||($(".hot-sug").hide(),o.css({height:"35px",overflow:"hidden",border:"0px",background:"none",left:"0px",top:"0px",display:"none"}))}),$("#keyword-box:text").click(function(e){""==$(this).val()?$(e.target).next("div").show():($("#keyword-box").select(),$(e.target).next("div").show())}),$("#keyword-box").keydown(function(e){$(e.target).next("div").hide()}),function(){var e=$(".lianjia-link-box .tab");$(".link-list div").eq(0).show(),$(".link-footer div").eq(0).show(),e.delegate("span","mouseover",function(e){var t=$(e.currentTarget),r=t.index(),n=t.closest(".tab").next(".link-list");t.addClass("hover").siblings("span").removeClass("hover"),n.find("div").eq(r).show().siblings("div").hide()})}(),(t=$(".hot-sug ul")).eq(0).show(),i.click(function(){o.css({height:"auto",overflow:"auto",background:"#fff",border:"1px solid #ccc",left:"-1px",top:"-1px",display:"block"})}),"ershoufang"==i.attr("actdata")&&$(".savesearch").show(),o.delegate("li label","click",function(e){var r=$(e.currentTarget),n=r.parent("li").index(),a=r.attr("actdata");a=a.split("=")[1],i.text(r.text()),i.attr("actdata",a),o.css({display:"none"});var s=$.queryToJson(r.attr("actData"));s&&defaultSuggest.suggestView.model.trans.setArgs(s);var c=$(this).attr("formact"),l=r.attr("tra"),u=r.attr("tips");r.closest(".search-txt").find("form").attr({action:c,target:l}),r.closest(".search-txt").find("form").attr({"data-action":c}),r.closest(".search-txt").find(".autoSuggest").attr("placeholder",u),t.eq(n).show().siblings("ul").hide();var g=r.closest(".search-txt").find(".autoSuggest");"placeholder"in document.createElement("input")?g.val(""):g.val(u),"ershoufang"==a?$(".savesearch").show():$(".savesearch").hide(),d()}),$("#back-top").on("click","li",function(){var e=$(this).find("a").attr("data-url");if(e)if(window.loginData&&1==window.loginData.code)window.open(e);else{var t=$(".btn-login");t.length>0?t.trigger("click"):alert("请登录后使用，谢谢！")}}),r=$('[data-role="huodong-btn"]'),l=$('[data-role="huodong-mask"]'),u=$('[data-role="huodong-layer"]'),r.length>0&&(r.click(function(){l.fadeIn(500),u.addClass("bounceIn").show()}),u.click(function(e){var t=$(e.target);(0==t.closest('[data-role="huodong-wrap"]').length||t.closest(".close").length>0)&&(l.fadeOut(500),u.removeClass("bounceIn").fadeOut())})),function(){var e=$("#feedback"),t=$(".feedback-box");e.click(function(e){t.show(),t.addClass("bounceIn"),s.fadeIn(300),t.html(a)}),s.click(function(e){c()}),t.delegate(".closebok","click",function(e){c()})}(),g=$(".feedback-box"),$("#tel").val(),g.delegate("#sub","click",function(){$("#sub");var e=$("#tips"),t=($("#count"),$("#tel").val()),r=$("#count").val();r=$.trim(r);var n=$("#count").attr("placeholder");if(""==r||r==n)return $(".erro-tips").show(),!1;var o={contact:t,content:r};$.ajax({type:"POST",url:"//www.lianjia.com/site/accuse/",dataType:"json",data:o,xhrFields:{withCredentials:!0},crossDomain:!0,success:function(t){0==t.status?(e.html("反馈成功非常感谢您的反馈！"),g.delay(2e3).fadeOut().removeClass("bounceIn"),s.delay(2e3).fadeOut()):e.html("反馈失败请重新填写！")}})}),g.delegate(".tab span","click",function(){$(".complain .tab-box").eq($(this).index()).show().siblings().hide(),$(this).addClass("check").siblings().removeClass("check")}),g.delegate(".ent","click",function(){$("#tousu .btn-more").attr("href","//"+window.location.host.split(".").slice(-3).join(".")+"/report/tousu/");var e=ljConf.pageConfig.ajaxroot+"ajax/tousu/GetCityTousuBrief";$.ajax({url:e,dataType:"jsonp",data:{city_id:ljConf.city_id}}).done(function(e){var t=$(".feedback-box #list");if(t.html(""),(e=e.data).data&&e.data.length<=0&&$("#tousu").hide(),e.data&&0==e.code){for(var r=e.data,n="",o=0;o<r.length;o++){var i;i=1==r[o].issue_status?"未处理":2==r[o].issue_status?"处理中":"已完成",n+=$.replaceTpl('<li><span class="time">#{issue_time}</span><span class="name">#{customer_name}</span><span class="phone">#{customer_phone}</span><span class="type">#{trade_type}</span><span class="finish">#{issue_status}</span></li>',{issue_time:r[o].issue_time,customer_name:r[o].customer_name,customer_phone:r[o].customer_phone,trade_type:r[o].trade_type,issue_status:i})}t.append(n)}})}),function(){var e=$("#back-top");if(e.hasClass("fix-right-v2")||e.hasClass("fix-right-v3")){var t="";e.on("mouseenter","li",function(){var e=$(this).find(".popup").eq(0);t=this.className,e.show(),e.stop().animate({opacity:"1",right:"38px"},200)}).on("mouseleave","li",function(){var e=$(this).find(".popup").eq(0),r=this.className;t="",e.stop().animate({opacity:"0",right:"48px"},200,function(){r!=t&&e.hide()})})}else{var r=$("#back-top .tips li,#gotop");r.mouseenter(function(){$(this).find("span").css({opacity:"1"}),$(this).css({overflow:"inherit",width:"auto"})}),r.mouseleave(function(e){$(this).find("span").css({opacity:"0"}),$(this).css({overflow:"hidden",width:"37px"})})}}(),function(){i.attr("actdata");var e=$(".savesearch");e.length&&n({el:e,callback:function(){var e=ljConf.city_id,t=new $.ListView({el:".savesearch",template:"#savesearch",url:$.env.fixedUrl("//ajax.lianjia.com/ajax/user/favorite/getSearchNotifyNum"),type:"jsonp",args:{cityId:e}});t.showloading=function(){},t.init()}});var t=$(".savesearch");t.find(".s-show"),t.delegate(".more","click",function(e){var t=$(e.currentTarget);t.parent("ul").find(".list").css({height:"auto"}),t.hide()}),t.delegate(".s-show","click",function(e){var t=$(e.currentTarget);t.next(".cunn").toggle(),"none"==t.next(".cunn").css("display")?t.find("label").removeClass("down"):t.find("label").addClass("down"),$(".sug-tips ul").hide()}),$(".savesearch .s-show").click(function(){}),$(document.body).on("mousedown",function(e){$(e.target).closest(".savesearch").length||(t.find(".cunn").hide(),t.find("label").removeClass("down"))})}(),function(){var e=$(".frauds-list .tab");$(".link-list div").eq(0).show(),e.delegate("span","click",function(e){var t=$(e.currentTarget),r=t.index(),n=t.closest(".tab").next(".link-list");t.addClass("hover").siblings("span").removeClass("hover"),n.find("div").eq(r).show().siblings("div").hide()})}()}}},,,,,,,,,,,,,,,function(e,t,r){e.exports=r(35)},function(e,t,r){r(36),r(37),r(38),r(39),r(40),r(41),r(42),r(43),r(44),r(7),r(10),r(19),$.listener=new $.EventEmitter(!0),$.env=r(10),$(document.body).ready(function(){var e=window.location.host;/lianjia\.com/.test(e),r(46).init();var t,n=$("#only");n.attr("data-city")&&(n.attr("data-city").indexOf("su")>=0||n.attr("data-city").indexOf("jn")>=0)&&($(".laisuzhou").addClass("laisuzhou-class"),$(document.body).delegate(".laisuzhou","click",function(e){return!1})),r(19).init(),function e(){setTimeout(function(){$(".LOGVIEW:above-the-fold").each(function(){var e=$(this);LjUserTrack.send({typ:"show"},e.get(0)),e.removeClass("LOGVIEW")}),e()},100)}(),(t=$(document.body)).on("mousedown",".LOGCLICK",function(){LjUserTrack.send({typ:""},$(this).get(0))}),$.listener.on("userInfo",function(e){t.on("mousedown",".LOGKEFU",function(){LjUserTrack.send({ljweb_mod:"imclick",ljweb_bl:1==e.code?"1":"0",ljweb_el:"BB120",ljweb_group:1}),LjUserTrack.send({ljweb_mod:"imclick",ljweb_bl:1==e.code?"1":"0",ljweb_el:"BB120",ljweb_group:1,evt_id:"10190"})})})})},function(e,t){
/*!
 * jquery.scrollLoading.js
 * by zhangxinxu  http://www.zhangxinxu.com
 * 2010-11-19 v1.0
 * 2012-01-13 v1.1 偏移值计算修改 position → offset
 * 2012-09-25 v1.2 增加滚动容器参数, 回调参数
*/
var r;(r=jQuery).fn.scrollLoading=function(e){var t={attr:"data-url",container:r(window),callback:r.noop},n=r.extend({},t,e||{});n.cache=[],r(this).each(function(){var e=this.nodeName.toLowerCase(),t=r(this).attr(n.attr),o={obj:r(this),tag:e,url:t};n.cache.push(o)});var o=function(e){r.isFunction(n.callback)&&n.callback.call(e.get(0))},i=function(){var e,t=n.container.height();e=r(window).get(0)===window?r(window).scrollTop():n.container.offset().top,r.each(n.cache,function(r,n){var i=n.obj,a=n.tag,s=n.url;if(i){var c=i.offset().top-e,l=c+i.height();(c>=0&&c<t||l>0&&l<=t)&&(s?"img"===a?o(i.attr("src",s)):i.load(s,{},function(){o(i)}):o(i),n.obj=null)}})};i(),n.container.bind("scroll",i)},function(e,t,r,n){var o=e(t);e.fn.lazyload=function(n){var i,a=this,s={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:t,data_attribute:"original",skip_invisible:!0,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};function c(){var t=0;a.each(function(){var r=e(this);if(!s.skip_invisible||r.is(":visible"))if(e.abovethetop(this,s)||e.leftofbegin(this,s));else if(e.belowthefold(this,s)||e.rightoffold(this,s)){if(++t>s.failure_limit)return!1}else r.trigger("appear"),t=0})}return n&&(void 0!==n.failurelimit&&(n.failure_limit=n.failurelimit,delete n.failurelimit),void 0!==n.effectspeed&&(n.effect_speed=n.effectspeed,delete n.effectspeed),e.extend(s,n)),i=void 0===s.container||s.container===t?o:e(s.container),0===s.event.indexOf("scroll")&&i.bind(s.event,function(){return c()}),this.each(function(){var t=this,r=e(t);t.loaded=!1,void 0!==r.attr("src")&&!1!==r.attr("src")||r.is("img")&&r.attr("src",s.placeholder),r.one("appear",function(){if(!this.loaded){if(s.appear){var n=a.length;s.appear.call(t,n,s)}e("<img />").bind("load",function(){var n=r.attr("data-"+s.data_attribute);r.hide(),r.is("img")?r.attr("src",n):r.css("background-image","url('"+n+"')"),r[s.effect](s.effect_speed),t.loaded=!0;var o=e.grep(a,function(e){return!e.loaded});if(a=e(o),s.load){var i=a.length;s.load.call(t,i,s)}}).attr("src",r.attr("data-"+s.data_attribute))}}),0!==s.event.indexOf("scroll")&&r.bind(s.event,function(){t.loaded||r.trigger("appear")})}),o.bind("resize",function(){c()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&o.bind("pageshow",function(t){t.originalEvent&&t.originalEvent.persisted&&a.each(function(){e(this).trigger("appear")})}),e(r).ready(function(){c()}),this},e.belowthefold=function(r,n){return(void 0===n.container||n.container===t?(t.innerHeight?t.innerHeight:o.height())+o.scrollTop():e(n.container).offset().top+e(n.container).height())<=e(r).offset().top-n.threshold},e.rightoffold=function(r,n){return(void 0===n.container||n.container===t?o.width()+o.scrollLeft():e(n.container).offset().left+e(n.container).width())<=e(r).offset().left-n.threshold},e.abovethetop=function(r,n){return(void 0===n.container||n.container===t?o.scrollTop():e(n.container).offset().top)>=e(r).offset().top+n.threshold+e(r).height()},e.leftofbegin=function(r,n){return(void 0===n.container||n.container===t?o.scrollLeft():e(n.container).offset().left)>=e(r).offset().left+n.threshold+e(r).width()},e.inviewport=function(t,r){return!(e.rightoffold(t,r)||e.leftofbegin(t,r)||e.belowthefold(t,r)||e.abovethetop(t,r))},e.extend(e.expr[":"],{"below-the-fold":function(t){return e.belowthefold(t,{threshold:0})},"above-the-top":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-screen":function(t){return e.rightoffold(t,{threshold:0})},"left-of-screen":function(t){return!e.rightoffold(t,{threshold:0})},"in-viewport":function(t){return e.inviewport(t,{threshold:0})},"above-the-fold":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-fold":function(t){return e.rightoffold(t,{threshold:0})},"left-of-fold":function(t){return!e.rightoffold(t,{threshold:0})}})}(jQuery,window,document)},function(e,t){var r;(r=jQuery).fn.fixtop=function(e){var t=r.extend({marginTop:0,zIndex:1e3,fixedWidth:"100%"},e),n=this.offset().top-t.marginTop,o=this,i=(o.height(),t.marginTop,r("<div/>").css({display:o.css("display"),width:o.outerWidth(!0),height:o.outerHeight(!0),float:o.css("float")}));return r(window).scroll(function(e){var a=n;r(this).scrollTop()>a&&"fixed"!=o.css("position")&&(o.after(i),o.css({position:"fixed",top:t.marginTop+"px","z-index":t.zIndex,width:t.fixedWidth}),void 0!==t.fixed&&t.fixed(o)),r(this).scrollTop()<a&&"fixed"==o.css("position")&&(i.remove(),o.css({position:"relative",top:"0px","z-index":t.zIndex}),void 0!==t.unfixed&&t.unfixed(o))}),this}},function(e,t){var r,n;$.stringFormat=function(e,t){e=String(e);var r=Array.prototype.slice.call(arguments,1),n=Object.prototype.toString;return r.length?(r=1==r.length&&null!==t&&/\[object Array\]|\[object Object\]/.test(n.call(t))?t:r,e.replace(/#\{(.+?)\}/g,function(e,t){var o=r[t];return"[object Function]"==n.call(o)&&(o=o(t)),void 0===o?"":o})):e},$.trimN=function(e){return e.replace(/\n{2,}/gm,"\n")},$.fixedOldComment=function(e){return e?$.decodeHTML($.trimN(e.replace(/<[^>]+>/g,"\n"))):e},$.replaceTpl=function(e,t,r){var n=String(e),o=r||/#\{([^}]*)\}/gm,i=String.trim||function(e){return e.replace(/^\s+|\s+$/g,"")};return n.replace(o,function(e,r){return t[i(r)]})},$.strHTML=function(e,t){e=String(e);var r=Array.prototype.slice.call(arguments,1),n=Object.prototype.toString;return r.length?(r=1==r.length&&null!==t&&/\[object Array\]|\[object Object\]/.test(n.call(t))?t:r,e.replace(/#\{(.+?)\}/g,function(e,t){var o=r[t];return"[object Function]"==n.call(o)&&(o=o(t)),void 0===o?"":$.encodeHTML(o)})):e},$.showIframeImg=function(e,t){var r=$(e),n=r.height(),o=r.width(),i=$.stringFormat("<style>body{margin:0;padding:0}img{width:#{0}px;height:#{1}px;}</style>",o,n),a="frameimg"+Math.round(1e9*Math.random());window.betafang[a]="<head>"+i+'</head><body><img id="img-'+a+"\" src='"+t+"' /></body>",e.append('<iframe style="display:none" id="'+a+'" src="javascript:parent.betafang[\''+a+'\'];" frameBorder="0" scrolling="no" width="'+o+'" height="'+n+'"></iframe>')},$.loadScript=function(e){var t={url:"",charset:"utf-8",complete:$.noop,fail:$.noop};if($.extend(t,e),!t.url)throw"url is requireed";var r=!1,n=document.createElement("script"),o=document.getElementsByTagName("head")[0],i=$.Deferred();function a(){if(r)return!1;r=!0,n.onload=null,n.onerror=null,t.complete&&t.complete(),i.resolve(),o.removeChild(n)}return n.onload=a,n.onerror=function(){if(r)return!1;r=!0,t.fail&&t.fail(),o.removeChild(n),i.reject()},n.onreadystatechange=function(e){"complete"==n.readyState&&a()},n.type="text/javascript",n.src=t.url,n.charset=t.charset,o.appendChild(n),i},$.TextAreaUtil=(r=window,n=document.selection,{getCursorPosition:function(e){var t=0;if(n){e.focus();try{var r=null,o=(r=n.createRange()).duplicate();o.moveToElementText(e),o.setEndPoint("EndToEnd",r),e.selectionStartIE=o.text.length-r.text.length,e.selectionEndIE=e.selectionEndIE+r.text.length,t=e.selectionStartIE}catch(r){t=e.value.length}}else(e.selectionStart||"0"==e.selectionStart)&&(t=e.selectionStart);return t},getSelectedText:function(e){var t;return r.getSelection?null!=(t=e).selectionStart&&null!=t.selectionEnd?t.value.slice(t.selectionStart,t.selectionEnd):"":document.selection.createRange().text}}),$.browser=$.browser||{},$.browser.ie=/msie (\d+\.\d+)/i.test(navigator.userAgent)?document.documentMode||+RegExp.$1:void 0},function(e,t){window.betafang;$(function(){/msie (\d+\.\d+)/i.test(navigator.userAgent)&&$("body").addClass("ie","ie"+(document.documentMode||+RegExp.$1)),$(".lj-lazy").lazyload(),$(".lazyload").scrollLoading(),$("#keyword-box,#keyword-box-01").closest("form").on("submit",function(){var e=$(this),t=e.attr("data-action")||e.attr("action"),r=e.find(".txt"),n=$.trim(r.val());if(n==r.attr("placeholder")&&(n=""),t+=encodeURIComponent(n),"_blank"!=e.attr("target"))return window.location.href=t,!1;e.attr("action",t)})})},function(e,t){window.ajax=function(){var e={},t=function(){};return e.get=function(e,r,n,o){if(n=n||t,o=o||t,!e)return!1;$.getJSON(e,r,function(e){0===e.status?n(e.data):o(e)},function(e){o({status:500,statusInfo:"服务请求失败"})})},e.post=function(e,r,n,o){if(n=n||t,o=o||t,!e)return!1;$.ajax({type:"POST",url:e,data:r,success:function(e){0===e.status?n(e.data):o(e)},failure:function(e){o({status:500,statusInfo:"服务请求失败"})},dataType:"json"})},e}()},function(e,t){!function(){var e="//api.map.baidu.com/ag/coord/convert";function t(e,t){var r=document.getElementsByTagName("head")[0],n=document.createElement("script");n.type="text/javascript",n.src=e,t=t||function(){},n.onload=n.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(t(),n.onload=n.onreadystatechange=null,r&&n.parentNode&&r.removeChild(n))},r.insertBefore(n,r.firstChild)}window.BMap=window.BMap||{},BMap.Convertor=$({}),BMap.Convertor.translate=function(r,n,o){var i="cbk_"+Math.round(1e4*Math.random()),a=e+"?from="+n+"&to=4&x="+r.lng+"&y="+r.lat+"&callback=BMap.Convertor."+i;o=o||function(){},t(a),BMap.Convertor[i]=function(e){delete BMap.Convertor[i];var t=new BMap.Point(e.x,e.y);o(t)}},BMap.Convertor.translateMore=function(r,n,o){var i=e+"?from="+n+"&to=4&mode=1",a=[],s=[];o=o||function(){};var c=function(){var e="cbk_"+Math.round(1e4*Math.random());t(i+"&x="+a.join(",")+"&y="+s.join(",")+"&callback=BMap.Convertor."+e),a=[],s=[],BMap.Convertor[e]=function(t){delete BMap.Convertor[e];var r=null,n=[];for(var i in t)if(0===(r=t[i]).error){var a=new BMap.Point(r.x,r.y);n[i]=a}else n[i]=null;o(n)}};for(var l in r)l%20==0&&0!==l&&c(),a.push(r[l].lng),s.push(r[l].lat),l==r.length-1&&c()}}()},function(e,t){!function(e,t){var r={isSupportPlaceHolder:"placeholder"in document.createElement("input")};function n(t){if(!r.isSupportPlaceHolder){var n=e(t),o=n.attr("placeholder");""===n.val()&&n.val(o).addClass("placeholder"),n.focus(function(){n.val()===n.attr("placeholder")&&n.val("").removeClass("placeholder")}).blur(function(){""===n.val()&&n.val(n.attr("placeholder")).addClass("placeholder")}).closest("form").submit(function(){n.val()===n.attr("placeholder")&&n.val("")})}}e(function(){e("input[placeholder],textarea[placeholder]").each(function(){"password"!=e(this).attr("type")&&n(this)})}),e.fixPlaceholder=n;var o={};o.fixedPlaceHolder=n}($)},function(e,t){!function(e){function t(e){if(e){var t={dom:$(e),template:"",targetWrapper:"",totalPage:0,curPage:0},r=$({});return function(){t.template=t.dom.attr("page-url");var e=t.dom.attr("target-wrapper");e&&(t.targetWrapper=$(e));var r=t.dom.attr("page-data");r?(console.log("data=====:",r),r=$.parseJSON(r),$.extend(t,r)):t.targetWrapper&&(t.curPage=1,t.totalPage=t.targetWrapper.children().length)}(),t.dom.delegate("[data-page]","click",function(){var e=$(this).attr("data-page");r.trigger("showPage",parseInt(e))}),t.targetWrapper&&r.on("showPage",function(e,r){t.curPage=r,n()}),n(),r}function n(){if(!(t.totalPage<=1)){var e=function(e,t,r){var n=[];if(t=t||1,e<=(r=r||6))for(var o=0;o<e;o++)n.push(o+1);else{n.push(1),t>4&&n.push("");var i=Math.max(t-2,2),a=Math.min(t+2,e-1);for(o=i;o<=a;o++)n.push(o);t<e-3&&n.push(""),n.push(e)}return n}(t.totalPage,t.curPage);e.length||t.dom.hide();var r=function(e,t,r,n){function o(e){if(n){var t=n.replace(/\{page\}/g,e);return 1===e&&t.search("pg1")>-1&&(t=t.search("pg1/")>-1?t.replace(/pg1\//,""):t.replace(/pg1/,"")),t}return"javascript:;"}var i=[];if(r=r||1,e&&e.length){r>1&&t>6&&i.push('<a href="'+o(r-1)+'" data-page="'+(r-1)+'" >上一页</a>');for(var a=e.length,s=0;s<a;s++)i.push(e[s]?"<a "+(e[s]==r?'class="on"':"")+' href="'+o(e[s])+'" data-page="'+e[s]+'">'+e[s]+"</a>":"<span>...</span>");r<t&&t>6&&i.push('<a href="'+o(r+1)+'" data-page="'+(r+1)+'">下一页</a>')}return i.join("")}(e,t.totalPage,t.curPage,t.template);if(console.log(e,t.totalPage,t.curPage,t.template),t.dom.html(r),t.targetWrapper){var n=t.targetWrapper.children();n.hide(),n.eq(t.curPage-1).show(),t.targetWrapper.find(".lj-lazy").lazyload()}}}}$(function(){$("[comp-module='page']").each(function(){t($(this))})})}()},function(e,r){function n(){h=$(window).height(),t=$(document).scrollTop(),$("#back-top").attr("daty-id")?t>h?($("#gotop").show(),$(".fix-right .tips,.fix-right .has-ask").show()):($("#gotop").hide(),$(".fix-right .tips,.fix-right .has-ask").hide()):($(".fix-right .tips,.fix-right .has-ask").show(),t>h?$("#gotop").show():$("#gotop").hide())}$(document).ready(function(e){n(),function(){$(".ewm-close").click(function(e){$(".sh-erweima").hide().addClass("hide"),$(this).hide();var t=$(".sh-erweima").attr("class");localStorage.setItem(void 0,JSON.stringify(t))});var e=localStorage.getItem(void 0);e?e.indexOf("sh-erweima hide")>=0&&$(".sh-erweima,.ewm-close").hide():$(".sh-erweima,.ewm-close").show()}(),$("body").on("click","#gotop",function(){$("html , body").animate({scrollTop:0},1e3)})}),$(window).scroll(function(e){n()}),$("body").on("click","#back-top .mycart .popup",function(e){e.stopPropagation()})},function(e,t,r){var n;void 0===(n=function(e){var t,n=r(7),o=[],i=$(window);function a(e,t,r,n){var o=$(e.el);t||(t=document.documentElement.scrollTop||document.body.scrollTop),r||(r=i.width()),n||(n=window.innerHeight);var a=o.offset().top-e.marginTop;return!(a+o.height()+e.marginBottom<t||a>t+n)&&(e.callback&&e.callback(),!0)}function s(){t=n(function(e){!function(e){for(var t,r=i.width(),n=window.innerHeight,s=0,c=o.length;s<c;s++)a(t=o[s],e,r,n)&&!t.always&&--t.times<=0&&(o.splice(s,1),c--,s--)}(e)})}return function(e){var r={el:"",marginTop:0,marginBottom:0,times:1,always:!1,callback:$.noop};if(($.extend(r,e),r.el)&&(!a(r)||r.always))return o.push(r),t||s(),{destroy:function(){var e=o.indexOf(r);e>=0&&o.splice(e,1)},pause:function(){var e=o.indexOf(r);e>=0&&o.splice(e,1)},resume:function(){o.indexOf(r)<0&&o.push(r)}}}}.call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n,o=r(9);void 0===(n=function(){function e(){"test"==d.getEnv()?lianjiaCasManager.config({setLoginUrl:b,service:b,getFirstTicket:f+"login?service="+encodeURIComponent(b)+"&get-lt=true&isajax=true",loginUrl:f+"login"}):"dev"==d.getEnv()?lianjiaCasManager.config({setLoginUrl:b,service:b,getFirstTicket:f+"login?service="+encodeURIComponent(b)+"&get-lt=true&isajax=true",loginUrl:f+"login"}):lianjiaCasManager.config({setLoginUrl:b,getFirstTicket:f+"login?service="+encodeURIComponent(b)+"&get-lt=true&isajax=true",service:b,loginUrl:f+"login"}),g&&g()}function t(e){lianjiaCasManager?e():g=e}function n(){if(!u){u=!0;var t=document.createElement("script");"test"==d.getEnv()?t.src=f+"dist/js/passport.js":"dev"===d.getEnv()?t.src=f+"/dist/js/passport.js?v=1234":t.src=f+"dist/js/passport.js",t.type="text/javascript",t.charset="utf-8",t.onload=e,document.getElementsByTagName("head")[0].appendChild(t)}}function i(){return className=$(this).attr("class"),$(".overlay_bg").fadeIn(300),$("#dialog_tel").removeAttr("class").addClass("panel_login animated "+className).fadeIn(),$("#dialog_tel .verImg").trigger("click"),$("body").css({overflow:"hidden"}),n(),!1}function a(){return className=$(this).attr("class"),$("#dialog").removeClass("bounceIn"),$("#dialog").hide(),$("#dialog_tel").removeAttr("class").addClass("panel_login animated className").show(),$("#dialog_tel .verImg").trigger("click"),$("body").css({overflow:"hidden"}),n(),!1}function s(){return $(".panel_success").remove(),$(".panel_login").fadeOut(),className=$(this).attr("class"),$("#dialog_tel").removeClass("bounceIn"),$("#dialog_tel").hide(),$("#dialog_reg").hide(),$("#dialog").show(),$("body").css({overflow:"hidden"}),n(),!1}function c(){return className=$(this).attr("class"),$(".overlay_bg").fadeIn(300),$("#dialog_reg").removeAttr("class").addClass("panel_login animated "+className).fadeIn(),$("#dialog_reg .verImg").trigger("click"),$("body").css({overflow:"hidden"}),n(),!1}function l(){return $(".panel_login").fadeOut(),className=$(this).attr("class"),$("#dialog_tel").removeClass("bounceIn"),$("#dialog_tel").hide(),$("#dialog_reg").hide(),$("#dialog").hide(),$("#dialog_forget").show(),$("#dialog_forget .verImg").trigger("click"),$("body").css({overflow:"hidden"}),n(),!1}var d=r(10),u=(r(48),!1),g=!1,f="dev"===d.getEnv()?window.location.protocol+"//upassport.test.ke.com:5201/":"test"===d.getEnv()?window.location.protocol+"//upassport.test.ke.com:5201/":window.location.protocol+"//upassport.ke.com/",h=f+"freshCaptch",p=/^\w{4}$/;$.env=d;var m=function(e,t){$(".panel_login").hide(),$('<div class="panel_login panel_success"><i class="close_success">&times</i>'+e+(t?"</div>":'<div>欢迎回来，<a class="green tologin">点击这里去登录</a></div></div>')).appendTo(".loninContaner"),$(".close_success").on("click",function(){$(".overlay_bg").hide(),$(".panel_success").remove()}),t&&setTimeout(function(){location.reload()},2e3)},v=function(e,t){var r={phone:[/^\d{11}$/,"请输入有效的手机号"],pwd:[/^\w{8,}$/,"密码必须是至少8位的数字字母组合"]}[t];return!!r&&(!!r[0].test(e)||r[1])},_=/^\d{11}$/,b=window.location.protocol+"//ajax.api.ke.com/login/login/getuserinfo";"test"==d.getEnv()?b=window.location.protocol+"//ajax.api.ke.com/login/login/getuserinfo":"dev"==d.getEnv()&&(b=window.location.protocol+"//ajax.api.ke.com/login/login/getuserinfo");var w={checkExists:f+"CheckExist",sendVerifyCode:f+"sendSms",sendVerifyVoiceCode:f+"sendVoice"};return $(document.body).ready(function(){function e(){$(".panel_login").fadeOut(),$(".overlay_bg").fadeOut(),$("body").css({overflow:""}),$("#dialog").removeClass("bounceIn")}function r(e){e=e||"用户名或者密码错误",C.find("dd").html(e),C.show()}function n(e){e=e||"用户名或者密码错误",V.find("dd").html(e),V.show()}function d(){V.hide()}function u(e){e=e||"用户名或者密码错误",A.find("dd").html(e),A.show()}function g(){A.hide()}function y(e){e=e||"用户名或者密码错误",N.find("dd").html(e),N.show()}function k(){N.hide()}var x=$("#con_login_user .verImg"),C=$("#con_login_user").find(".show-error"),j=$("#con_login_user_tel .verImg"),V=$("#con_login_user_tel").find(".show-error"),S=$("#con_login_user_reg .checkVerimg .verImg"),T=$("#con_login_user_tel .checkVerimg1 .verImg"),A=$("#con_login_user_reg").find(".show-error"),I=$("#con_forget_user_tel .verImg"),N=$("#con_forget_user_tel").find(".show-error");$("#con_forget_user_pw").find(".show-error"),x.on("click",function(){var e=+new Date;$(this).attr("src",h+"?t="+e)}),j.on("click",function(){var e=+new Date;$(this).attr("src",h+"?t="+e)}),I.on("click",function(){var e=+new Date;$(this).attr("src",h+"?t="+e)}),S.on("click",function(){var e=+new Date;$(this).attr("src",h+"?t="+e)}),T.on("click",function(){var e=+new Date;$(this).attr("src",h+"?t="+e)}),$(".typeUserInfo").delegate(".btn-login","click",i),$(".loninContaner").delegate(".totellogin","click",function(e){$(".panel_success").remove(),a()}),$(".loninContaner").delegate(".tologin","click",s),$(".typeUserInfo").delegate(".btn-register","click",c),$(".loninContaner").delegate(".toforget","click",l),$(".overlay_bg,.claseDialogBtn").click(function(){e()}),$(".close_login").click(function(){e()}),$(".loninContaner").delegate(".checkbox-btn","click",function(e){var t=$(this);t.find("input").get(0).checked?t.find("span").addClass("active"):t.find("span").removeClass("active")});var O=function(e,t){function r(){a.removeClass("handler_bg").addClass("handler_ok_bg"),c.text("验证通过"),o.css({color:"#3072f6"}),a.unbind("mousedown"),$(document).unbind("mousemove"),$(document).unbind("mouseup"),t&&t()}var n,o=e||this,i=!1;o.parent().show();e=$.extend({},e);o.css({color:"#333333"});o.html('<div class="drag_bg"></div><div class="drag_text" onselectstart="return false;" unselectable="on">拖动滑块验证</div><div class="handler handler_bg"></div>');var a=o.find(".handler"),s=o.find(".drag_bg"),c=o.find(".drag_text"),l=o.width()-a.width();a.mousedown(function(e){i=!0,n=e.pageX-parseInt(a.css("left"),10)}),a.mousedown(function(e){i=!0,n=e.pageX-parseInt(a.css("left"),10)}),$(document).mousemove(function(e){var t=e.pageX-n;i&&(t>0&&l>=t?(a.css({left:t}),s.css({width:t})):t>l&&r())}).mouseup(function(e){i=!1;var t=e.pageX-n;l>t&&(a.css({left:0}),s.css({width:0}))})};$("#con_login_user").delegate("input","keyup",function(e){13==e.keyCode&&$(".login-user-btn").click()});var E=0;$(".login-user-btn").on("click",function(e){$(".border-a").removeClass("border-a");var n=$("#con_login_user").find(".item"),o=($("#con_login_agent").find(".item"),n.find(".users").val()),i=n.find(".password").val();if(!o||!0!==v(o,"phone"))return n.find(".users").focus(),r("请输入有效的手机号码"),void $("#con_login_user").find(".userName").addClass("border-red");if($("#con_login_user").find(".userName").removeClass("border-red"),!i)return n.find(".password").focus(),r("请输入密码"),void $("#con_login_user").find(".pwd").addClass("border-red");$("#con_login_user").find(".pwd").removeClass("border-red");var a=$("#con_login_user").find('[name="remember"]').get(0),s={username:o,password:i,code:""};if(a&&a.checked&&(s.remember=1),"none"!=$("#con_login_user .checkVerimg").css("display")){var c=$(".ver-img").val();if(!p.test(c))return r("验证码格式错误"),$(".ver-img").focus(),void $("#con_login_user").find(".checkVerimg").addClass("border-red");$("#con_login_user").find(".checkVerimg").removeClass("border-red"),s.code=c}var l=null;if("none"!=$(".drag").css("display")){if(!E)return void r("滑块验证不通过");l=(new Date).getTime(),E=0,function(e){O(e);var t=e.find(".handler"),r=e.find(".drag_bg"),n=e.find(".drag_text");t.css({left:0}),r.css({width:0}),t.removeClass("handler_ok_bg").addClass("handler_bg"),n.text("拖动滑块验证"),$("#drag").css({color:"#333333"}),e.parent().hide()}($("#drag"))}C.hide(),lianjiaCasManager.config({loginUrl:f+"login",getFirstTicket:f+"login?service="+encodeURIComponent(b)+"&type=1&get-lt=true&isajax=true&from=lianjiaweb"+(null===l?"":"&time="+l)}),t(function(){lianjiaCasManager.login(s,function(e){$.listener.trigger("loginActSuccess"),x.trigger("click"),window.NOTAUTOJUMP||location.reload()},function(e){switch(n.removeClass("border-red"),e.eventId){case"needCaptchaCheckWhenIpLimit":$("#con_login_user .checkVerimg").show(),r("请输入图形验证码"),x.trigger("click"),$("#con_login_user").find(".checkVerimg").addClass("border-red");break;case"needSendSms":$("#drag").find(".handler").hasClass("handler_ok_bg")||(O($("#drag")),r("请拖动滑块进行验证")),x.trigger("click");break;case"needCaptcha":$("#con_login_user .checkVerimg").show(),r("请输入图形验证码"),x.trigger("click"),$("#con_login_user").find(".checkVerimg").addClass("border-red");break;default:r(e.msg),x.trigger("click")}})})}),$(".login-user-tel-btn").on("click",function(e){$(".border-a").removeClass("border-a");var r=$("#con_login_user_tel").find(".item"),o=($("#con_login_agent").find(".item"),r.find(".users_tel").val()),i=r.find(".verifycode").val();if(!o||!0!==v(o,"phone"))return r.find(".users_tel").focus(),n("请输入有效的手机号码"),void $("#con_login_user_tel").find(".userName").addClass("border-red");if($("#con_login_user_tel").find(".userName").removeClass("border-red"),!i)return r.find(".verifycode").focus(),void $("#con_login_user_tel").find(".Verify").addClass("border-red");$("#con_login_user_tel").find(".Verify").removeClass("border-red");var a=$("#con_login_user_tel").find('[name="remember"]').get(0),s={username:o,smsCode:i,code:"",type:2};if(a&&a.checked&&(s.remember=1),"none"!=$("#con_login_user_tel .checkVerimg").css("display")){var c=$("#con_login_user_tel .ver-img").val();if(!p.test(c))return n("验证码格式错误"),$("#con_login_user_tel .ver-img").focus(),void $("#con_login_user_tel").find(".checkVerimg").addClass("border-red");$("#con_login_user_tel").find(".checkVerimg").removeClass("border-red"),s.code=c}d(),lianjiaCasManager.config({loginUrl:f+"login",getFirstTicket:f+"login?service="+encodeURIComponent(b)+"&get-lt=true&isajax=true&type=2&from=lianjiaweb"}),t(function(){r.removeClass("border-red"),lianjiaCasManager.login(s,function(e){-1==e.code?(n(),j.trigger("click")):($.listener.trigger("loginActSuccess"),window.NOTAUTOJUMP||location.reload())},function(e){switch(r.removeClass("border-red"),e.eventId){case"needCaptcha":n("请输入验证码"),$("#con_login_user_tel .checkVerimg").show(),j.trigger("click");break;case"showCaptchaWhenSendSms":n("请输入验证码"),$("#con_login_user_tel .checkVerimg").show(),j.trigger("click");default:n(e.msg),j.trigger("click")}})})}),$(".user-forget").on("click",function(e){$(".border-a").removeClass("border-a");var r=$("#con_forget_user_tel").find(".item"),n=r.find(".user_forget_phone").val(),o=r.find(".verifycode").val(),i=$("#con_forget_user_tel").find(".password_reg").val();if(!n||!0!==v(n,"phone"))return r.find(".user_forget_phone").focus(),y("请输入有效的手机号码"),void $("#con_forget_user_tel").find(".userName").addClass("border-red");if($("#con_forget_user_tel").find(".userName").removeClass("border-red"),!i||!0!==v(i,"pwd"))return r.find(".password_reg").focus(),y("请输入不少于8位数的密码（数字+字母）"),void $("#con_forget_user_pw").find(".pwd").addClass("border-red");if(!i.match(/\d/)||!i.match(/[A-Za-z]/))return r.find(".password_reg").focus(),y("请输入不少于8位数的密码（数字+字母）"),void $("#con_forget_user_pw").find(".pwd").addClass("border-red");if($("#con_forget_user_pw").find(".pwd").removeClass("border-red"),!o)return r.find(".verifycode").focus(),r.find(".verifycode").addClass("border-a"),void $("#con_forget_user_tel").find(".Verify").addClass("border-red");$("#con_forget_user_tel").find(".Verify").removeClass("border-red");var a={username:n,phone:n,smsCode:o,newPassword:i,confirmPassword:i};if("none"!=$("#con_forget_user_tel .checkVerimg").css("display")){var s=$("#con_forget_user_tel .ver-img").val();if(!p.test(s))return y("验证码格式错误"),$("#con_forget_user_tel .ver-img").focus(),void $("#con_forget_user_tel").find(".checkVerimg").addClass("border-red");$("#con_forget_user_tel").find(".checkVerimg").removeClass("border-red"),a.code=s}k(),lianjiaCasManager.config({getFirstTicket:f+"forgotpassword?service="+encodeURIComponent(b)+"&get-lt=true&isajax=true&from=lianjiaweb",loginUrl:f+"forgotpassword"}),t(function(){lianjiaCasManager.login(a,function(e){$("#con_forget_user_pw").find(".pwd").removeClass("border-red"),$.listener.trigger("loginActSuccess"),window.NOTAUTOJUMP||(m("修改密码成功"),I.trigger("click"))},function(e){$("#con_forget_user_pw").find(".pwd").removeClass("border-red"),1===e.code?(y(),I.trigger("click")):2===e.code?(y("请输入验证码"),$("#con_forget_user_tel .checkVerimg").show(),I.trigger("click")):3===e.code?(y("短信验证码输入错误"),$("#con_forget_user_tel .checkVerimg").show(),I.trigger("click")):(y(e.msg),$("#con_forget_user_tel .checkVerimg").show(),I.trigger("click"))})})}),$(".register-user-btn").on("click",function(e){$(".border-a").removeClass("border-a");var r=$("#con_login_user_reg").find(".item"),n=($("#con_login_agent").find(".item"),r.find(".users_reg").val()),o=r.find(".verifycode").val(),i=r.find(".password_reg").val();if(!n||!0!==v(n,"phone"))return r.find(".users_reg").focus(),u("请输入有效的手机号码"),void $("#con_login_user_reg").find(".userName").addClass("border-red");if($("#con_login_user_reg").find(".userName").removeClass("border-red"),!o)return r.find(".verifycode").focus(),r.find(".verifycode").addClass("border-a"),void $("#con_login_user_reg").find(".Verify").addClass("border-red");if($("#con_login_user_reg").find(".Verify").removeClass("border-red"),!i||!0!==v(i,"pwd"))return r.find(".password_reg").focus(),u("请输入不少于8位数的密码（数字+字母）"),void $("#con_login_user_reg").find(".pwd").addClass("border-red");if($("#con_login_user_reg").find(".pwd").removeClass("border-red"),!i.match(/\d/)||!i.match(/[A-Za-z]/))return r.find(".password_reg").focus(),u("请输入不少于8位数的密码（数字+字母）"),void $("#con_login_user_reg").find(".pwd").addClass("border-red");$("#con_login_user_reg").find(".pwd").removeClass("border-red");var a=$("#con_login_user_reg").find('[name="read"]').get(0),s={username:n,verify:o,password:i,smsCode:o,confirmPassword:i};if(!a.checked)return u("请阅读协议并确认"),void a.focus();if("none"!=$("#con_login_user_reg .checkVerimg").css("display")){var c=$("#con_login_user_reg .ver-img").val();if(!p.test(c))return u("验证码格式错误"),$("#con_login_user_reg .ver-img").focus(),void $("#con_login_user_reg").find(".checkVerimg").addClass("border-red");$("#con_login_user_reg").find(".checkVerimg").removeClass("border-red"),s.code=c}g(),lianjiaCasManager.config({getFirstTicket:f+"register?service="+encodeURIComponent(b)+"&get-lt=true&isajax=true&from=lianjiaweb",loginUrl:f+"register"}),t(function(){lianjiaCasManager.login(s,function(e){r.removeClass("border-red"),-1==e.code?(u(e.msg),S.trigger("click")):($.listener.trigger("loginActSuccess"),window.NOTAUTOJUMP||m("注册成功",!0))},function(e){switch(r.removeClass("border-red"),e.eventId){case"needCaptcha":u("请输入验证码"),$("#con_login_user_reg .checkVerimg").show(),S.trigger("click");break;case"showCaptchaWhenSendSms":u("请输入验证码"),$("#con_login_user_reg .checkVerimg").show(),S.trigger("click");default:u(e.msg),S.trigger("click")}})})});var U=function(e){if(null==e||""===e)return!1;if("object"==o(e))for(var t in e){var r=e[t].value,n=e[t].required;if(void 0===n||!1===n.value);else if(null==r||""==r)return!!n.hint&&n.hint;var i=e[t].pattern;if(i&&!r.match(i.value))return!!i.hint&&i.hint;var a=e[t].equal;if(a){var s=e[a.propertyName];if(null==s)return!1;if(s.value!=r)return!!a.hint&&a.hint}}return!0};$("#send_verify_code_tel").on("click",function(e){if($(this).hasClass("disabled"))return!1;var t={telNum:{value:$(".users_tel").val(),pattern:{value:_,hint:"请输入有效的手机号码"}}},r=U(t);if(1!=r)return n(r),!1;var o={phone:$(".users_tel").val()};if($("#con_login_user_tel .checkVerimg").length>0&&""!=$("#con_login_user_tel .checkVerimg input").val()&&(o.code=$("#con_login_user_tel .checkVerimg input").val(),$("#con_login_user_tel").find(".checkVerimg").removeClass("border-red")),!$("#con_login_user_tel .checkVerimg input").val())return $("#con_login_user_tel").find(".checkVerimg").addClass("border-red"),n("请输入图形验证码"),!1;var i=function(e){var t=null,r=$("#send_verify_code_tel");t=setInterval(function(){return 0>=e?(r.removeClass("disabled"),r.find("em").html("重新获取验证码"),clearInterval(t),void d()):(40==e&&$(".send_verify_code_s").show(),r.find("em").html(e--+"s 后重新发送"),void r.addClass("disabled"))},1e3)};$.ajax({url:w.sendVerifyCode,type:"post",dataType:"jsonp",data:o}).done(function(e){1===e.code?(d(),i(60)):2==e.code?(n("请输入图形验证码"),$("#con_login_user_tel .checkVerimg").show(),j.trigger("click")):8==e.code||0==e.code?(n(e.msg),j.trigger("click")):(n(e),j.trigger("click"))}).fail(function(e){n("发送失败，请重试"),i(0),$(this).removeClass("disable"),1===e.code?(d(),j.trigger("click"),i(60)):2==e.code?(n("请输入图形验证码"),$("#con_login_user_tel .checkVerimg").show(),j.trigger("click")):8==e.code||0==e.code?(n(e.msg),j.trigger("click")):(n(e),j.trigger("click"))})}),$("#send_verify_code_tel_s .voice_a").on("click",function(e){if($(this).hasClass("disabled"))return!1;var t={telNum:{value:$(".users_tel").val(),pattern:{value:_,hint:"请输入有效的手机号码"}}},r=U(t);if(1!=r)return n(r),!1;var o={phone:$(".users_tel").val()};return $("#con_login_user_tel .checkVerimg").length>0&&""!=$("#con_login_user_tel .checkVerimg input").val()&&(o.code=$("#con_login_user_tel .checkVerimg input").val(),$("#con_login_user_tel").find(".checkVerimg").removeClass("border-red")),$("#con_login_user_tel .checkVerimg input").val()?void $.ajax({url:w.sendVerifyVoiceCode,type:"post",dataType:"jsonp",data:o}).done(function(e){1===e.code?(d(),$("#send_verify_code_tel_s").hide(),n("验证码将以电话的形式的通知到您，请注意接听")):2==e.code?(n("请输入验证码"),$("#send_verify_code_tel .checkVerimg").show(),j.trigger("click")):8==e.code||0==e.code?(n(e.msg),j.trigger("click")):(n(e),j.trigger("click"))}).fail(function(e){e.code=1,n("发送失败，请重试"),$(this).removeClass("disable"),1===e.code?(d(),j.trigger("click")):2==e.code?(n("请输入验证码"),$("#send_verify_code_tel .checkVerimg").show(),j.trigger("click")):8==e.code||0==e.code?(n(e.msg),j.trigger("click")):(n(e),j.trigger("click"))}):(n("请输入图形验证码"),$("#con_login_user_tel").find(".checkVerimg").addClass("border-red"),!1)}),$("#send_verify_code_forget").on("click",function(e){if($(this).hasClass("disabled"))return!1;var t={telNum:{value:$(".user_forget_phone").val(),pattern:{value:_,hint:"请输入有效的手机号码"}}},r=U(t);if(1!=r)return y(r),!1;var n={phone:$(".user_forget_phone").val()};if($("#con_forget_user_tel .checkVerimg").length>0&&""!=$("#con_forget_user_tel .checkVerimg input").val()&&(n.code=$("#con_forget_user_tel .checkVerimg input").val(),$("#con_forget_user_tel").find(".checkVerimg").removeClass("border-red")),!$("#con_forget_user_tel .checkVerimg input").val())return y("请输入图形验证码"),$("#con_forget_user_tel").find(".checkVerimg").addClass("border-red"),!1;var o=function(e){var t=null,r=$("#send_verify_code_forget");t=setInterval(function(){return 0>=e?(r.removeClass("disabled"),r.find("em").html("重新获取验证码"),clearInterval(t),void g()):(40==e&&$("#send_verify_code_forget_s").show(),r.find("em").html(e--+"s 后重新发送"),void r.addClass("disabled"))},1e3)};$.ajax({url:w.sendVerifyCode+"?sendOn=exist",dataType:"jsonp",data:n}).done(function(e){1==e.code?(k(),o(60)):8==e.code||0==e.code?(y(e.msg),I.trigger("click")):2==e.code?(y("请输入验证码"),$("#con_forget_user_tel .checkVerimg").show(),I.trigger("click")):(y(e),I.trigger("click"))}).fail(function(e){e.code=1,y("发送失败，请重试"),o(0),$(this).removeClass("disable"),1===e.code?(k(),o(60)):2==e.code?(y("请输入验证码"),$("#con_forget_user_tel .checkVerimg").show(),I.trigger("click")):8==e.code||0==e.code?(y(e.msg),I.trigger("click")):(y(e),I.trigger("click"))})}),$("#send_verify_code_forget_s .voice_a").on("click",function(e){if($(this).hasClass("disabled"))return!1;var t={telNum:{value:$(".user_forget_phone").val(),pattern:{value:_,hint:"请输入有效的手机号码"}}},r=U(t);if(1!=r)return u(r),!1;var o={phone:$(".user_forget_phone").val()};return $("#con_forget_user_tel .checkVerimg").length>0&&""!=$("#con_forget_user_tel .checkVerimg input").val()&&(o.code=$("#con_forget_user_tel .checkVerimg input").val(),$("#con_forget_user_tel").find(".checkVerimg").removeClass("border-red")),$("#con_forget_user_tel .checkVerimg input").val()?void $.ajax({url:w.sendVerifyVoiceCode+"?sendOn=exist",type:"post",dataType:"jsonp",data:o}).done(function(e){1===e.code?(k(),$("#send_verify_code_forget_s").hide(),y("验证码将以电话的形式的通知到您，请注意接听")):8==e.code||0==e.code?(y(e.msg),I.trigger("click")):2==e.code?(y("请输入验证码"),$("#con_forget_user_tel .checkVerimg").show(),I.trigger("click")):(y(e),I.trigger("click"))}).fail(function(e){y("发送失败，请重试"),$(this).removeClass("disable"),1===e.code?(k(),I.trigger("click")):2==e.code?(n("请输入验证码"),$("#con_forget_user_tel .checkVerimg").show(),I.trigger("click")):8==e.code||0==e.code?(y(e.msg),I.trigger("click")):(y(e),I.trigger("click"))}):(y("请输入图形验证码"),$("#con_forget_user_tel").find(".checkVerimg").addClass("border-red"),!1)}),$("#send_verify_code_reg").on("click",function(e){if($(this).hasClass("disabled"))return!1;var t={telNum:{value:$(".users_reg").val(),pattern:{value:_,hint:"请输入有效的手机号码"}}},r=U(t);if(1!=r)return u(r),!1;var n={phone:$(".users_reg").val()};if($("#con_login_user_reg .checkVerimg").length>0&&""!=$("#con_login_user_reg .checkVerimg input").val()&&(n.code=$("#con_login_user_reg .checkVerimg input").val(),$("#con_login_user_reg").find(".checkVerimg").removeClass("border-red")),!$("#con_login_user_reg .checkVerimg input").val())return u("请输入图形验证码"),$("#con_login_user_reg").find(".checkVerimg").addClass("border-red"),!1;var o=function(e){var t=null,r=$("#send_verify_code_reg");t=setInterval(function(){return 0>=e?(r.removeClass("disabled"),r.find("em").html("重新获取验证码"),clearInterval(t),void g()):(40==e&&$("#send_verify_code_reg_s").show(),r.find("em").html(e--+"s 后重新发送"),void r.addClass("disabled"))},1e3)};$.ajax({url:w.sendVerifyCode+"?sendOn=noExist",dataType:"jsonp",data:n}).done(function(e){1==e.code?(g(),o(60)):8==e.code||0==e.code?(u(e.msg),S.trigger("click")):2==e.code?(u("请输入验证码"),$("#con_login_user_reg .checkVerimg").show(),S.trigger("click")):(u(e),S.trigger("click"))}).fail(function(e){u("发送失败，请重试"),o(0),$(this).removeClass("disable"),1==e.code?(g(),o(60)):0==e.code||8==e.code?(u(e.msg),S.trigger("click")):2==e.code?(u("请输入验证码"),$("#con_login_user_reg .checkVerimg").show(),S.trigger("click")):(u(e),S.trigger("click"))})}),$("#send_verify_code_reg_s .voice_a").on("click",function(e){if($(this).hasClass("disabled"))return!1;var t={telNum:{value:$(".users_reg").val(),pattern:{value:_,hint:"请输入有效的手机号码"}}},r=U(t);if(1!=r)return u(r),!1;var n={phone:$(".users_reg").val()};return $("#con_login_user_reg .checkVerimg").length>0&&""!=$("#con_login_user_reg .checkVerimg input").val()&&(n.code=$("#con_login_user_reg .checkVerimg input").val(),$("#con_login_user_reg").find(".checkVerimg").removeClass("border-red")),$("#con_login_user_reg .checkVerimg input").val()?void $.ajax({url:w.sendVerifyVoiceCode+"?sendOn=noExist",type:"post",dataType:"jsonp",data:n}).done(function(e){1==e.code?(g(),$("#send_verify_code_reg_s").hide(),u("验证码将以电话的形式的通知到您，请注意接听")):8==e.code||0==e.code?(u(e.msg),S.trigger("click")):2==e.code?(u("请输入验证码"),$("#con_login_user_reg .checkVerimg").show()):(u(e),S.trigger("click"))}).fail(function(e){e.code=1,u("发送失败，请重试"),$(this).removeClass("disable"),1===e.code?(g(),S.trigger("click")):2==e.code?(u("请输入验证码"),$("#con_login_user_reg .checkVerimg").show(),S.trigger("click")):8==e.code||0==e.code?(u(e.msg),S.trigger("click")):(u(e),S.trigger("click"))}):(u("请输入图形验证码"),$("#con_login_user_reg").find(".checkVerimg").addClass("border-red"),!1)})}),$(".password-view").on("click",function(){var e=$(this).siblings("input");e.attr("type","password"==e.attr("type")?"text":"password")}),$(".checkVerimg").trigger("click"),{init:function(){$.listener.on("userInfo",function(e){(function(e){var t=$(".typeUserInfo");e&&e.username&&(e.username=$.encodeHTML($.getLimitString(e.username,20,".."))),t.each(function(){var t=$(this);t.find(".template").html(' \n                            <%if(data && data.username){%>\n                            <%if(data.isAgent){%>\n                            <a href="<%=$.env.fixedUrl(\'//agent.ke.com/\')%>"><span><%=data.username%>&nbsp;&nbsp;</span></a>\n                            <%}else{%>\n                                <a href="<%=$.env.fixedUrl(\'//user.ke.com/\')%>" rel="nofollow"><span><%=data.username%>&nbsp;&nbsp;</span></a>\n                            <%}%>\n                            <%if(data.isAgent){%>\n                                <span class="welcome"><a class="reg" href="<%=data.logoutUrl%>">退出</a></span>\n                            <%}else{%>\n                                <span class="welcome"><a class="reg" href="<%=data.logoutUrl%>">退出</a></span>\n                                <%}%>\n                            <%}else{%>\n                            <span class="welcome"><a class="btn-register" href="javascript:;"><span class="log">注册</span></a><a class="btn-login bounceIn actLoginBtn" href="javascript:;"><span class="reg">立即登录</span></a></span>\n                            <%}%>\n                            ');var r=t.find(".template").html();if(r){r=$.template(r);var n=$.trim(r.render({data:e}));t.find(".typeShowUser").html(n)}})})(e),e.username&&($(".typeUserInfo").find(".typeShowUser a").eq(0),r(47)({container:$("#userNews"),msgTpl:$.template($("#News").html()),tipContainer:$("#indexTipContainer"),tipTpl:$.template('<span class="login_bubble_tip"><%=unreadNum%></span>')}))}),new $.Trans({url:b,type:"jsonp"}).request().done(function(e){e&&e.username&&(e.code=1),$.listener.trigger("userInfo",e)}).fail(function(e){e&&$.listener.trigger("userInfo",e.data)})},openLoginDialog:i,openDialogRegister:c}}.call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n;void 0===(n=function(e){return function(e){var t=$.env.fixedUrl("//ajax.lianjia.com/ajax/user/favorite/getnotifynum/"),r={house_showing:{url:"//user.lianjia.com/site/seeSchedule",text:'你的看房日程有<span class="unreadNumber">#{unread}</span>条更新'},community_new_house_source:{url:"//user.lianjia.com/?filter=3",text:'你关注的小区有<span class="unreadNumber">#{unread}</span>条新上'},deal:{url:"//user.lianjia.com/?filter=1",text:'你关注的房源有<span class="unreadNumber">#{unread}</span>条成交'},price_changed:{url:"//user.lianjia.com/?filter=2",text:'你关注的房源有<span class="unreadNumber">#{unread}</span>条变价'},"search:new":{url:"//user.lianjia.com/?filter=4",text:'你保存的搜索条件有<span class="unreadNumber">#{unread}</span>条变动'},on_answer_insert_concern:{url:"//user.lianjia.com/site/myWenda/?filter=1",text:'您关注的问题有<span class="unreadNumber">#{unread}</span>条回复'},on_answer_insert:{url:"//user.lianjia.com/site/myWenda/",text:'您提问的问题有<span class="unreadNumber">#{unread}</span>条回复'},on_extra_answer_pass:{url:"//user.lianjia.com/site/myWenda/?filter=2",text:'您收到<span class="unreadNumber">#{unread}</span>条新追答'},on_special_question_pass:{url:"//user.lianjia.com/site/myWenda/?filter=3",text:'您收到<span class="unreadNumber">#{unread}</span>条定向提问'},on_extra_question_pass:{url:"//user.lianjia.com/site/myWenda/?filter=4",text:'您收到<span class="unreadNumber">#{unread}</span>条追问'},xuequ_bbs:{url:"//user.lianjia.com/site/bbs?type=4",text:'论坛有<span class="unreadNumber">#{unread}</span>条回复'},ting_shou:{url:"//user.lianjia.com/",text:'您关注的<span class="unreadNumber">#{unread}</span>套房源已下架'}},n=$.extend({},r,{on_extra_answer_pass:{url:"//agent.lianjia.com/preference/wenda/?filter=2",text:'您收到<span class="unreadNumber">#{unread}</span>条新追答'},on_special_question_pass:{url:"//agent.lianjia.com/preference/wenda/?filter=3",text:'您收到<span class="unreadNumber">#{unread}</span>条定向提问'},on_extra_question_pass:{url:"//agent.lianjia.com/preference/wenda/?filter=4",text:'您收到<span class="unreadNumber">#{unread}</span>条追问'}});$.ajax({url:t,type:"get",dataType:"jsonp",success:function(t){if(0===t.errno){var o=t.data.is_agent?n:r,i=0;for(var a in t.data.group_by_type)0!==t.data.group_by_type[a].unread&&o.hasOwnProperty(a)&&(i+=t.data.group_by_type[a].unread);0!==i&&(e.tipContainer.html(e.tipTpl.render({unreadNum:i})),e.container.html(e.msgTpl.render({group_by_type:t.data.group_by_type,pushMsgMap:o})))}}})}}.call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n;void 0===(n=function(e){var t=$.EventEmitter,n=r(49),o=r(10);return t.extend({initialize:function(e){var t={url:"",type:"get",dataType:"json",args:{}};$.extend(t,e),t.url=o.fixedUrl(t.url),t.method=t.type;this.opt=t;var r=o.fixedUrl($.parseURL(t.url).host);o.isSameDomain(r)?this.isSame=!0:this.crossRequest=n(r)},request:function(e){var t=this.opt;return $.extend(t.args,e),t.data=t.args,this.isSame?$.ajax(t):this.crossRequest.request(t)}})}.call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n;r(50),void 0===(n=function(e){var t=new LJMessenger("LIANJIA_CROSS_MESSAGE","LIANJIA-CROSS");t.listen(function(e){var r=(e=JSON.parse(e)).name;t.targets[r]&&("state"==e.type?(t.targets[r].readyState="ready",t.targets[r].dealReady()):t.targets[r].deal(e.data,e.success))});var r={},n=function(e,t){this.domain=e,t=t||$.parseURL(e).host.replace(/\./g,"-"),this.name=t,this.init()};return $.extend(n.prototype,{init:function(){var e=this,r=e.domain+"/xd/api/?name="+e.name,n=function(e,t){var r=document.createElement("iframe");return r.id=e,r.name=e,r.src=t,r.style.cssText="display:none;width:0px;height:0px;",r.width=0,r.height=0,r.title="empty",document.body.appendChild(r),r}(e.name,r);e.iframe=n.contentWindow,t.addTarget(e.iframe,e.name),e.reqArray=[],t.targets[e.name].deal=function(r,n){t.targets[e.name].isRequest=!1;var o=e.reqArray.shift(),i=!1;try{i=r}catch(e){}n?o.defer.resolve(i):o.defer.reject(i),e.next()},t.targets[e.name].dealReady=function(){e.next()}},next:function(){if(t.targets[this.name].readyState&&this.reqArray.length&&!t.targets[this.name].isRequest){t.targets[this.name].isRequest=!0;var e={type:"request",data:this.reqArray[0].request},r=JSON.stringify(e);t.targets[this.name].send(r)}},request:function(e){var t=$.Deferred();return this.reqArray.push({defer:t,request:e}),this.next(),t}}),function(e,t){return r[e]?r[e]:r[e]=new n(e,t)}}.call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n=r(9);
/**
 *     __  ___
 *    /  |/  /___   _____ _____ ___   ____   ____ _ ___   _____
 *   / /|_/ // _ \ / ___// ___// _ \ / __ \ / __ `// _ \ / ___/
 *  / /  / //  __/(__  )(__  )/  __// / / // /_/ //  __// /
 * /_/  /_/ \___//____//____/ \___//_/ /_/ \__, / \___//_/
 *                                        /____/
 *
 * @description MessengerJS, a common cross-document communicate solution.
 * @author biqing kwok
 * @version 2.0
 * @license release under MIT license
 */window.LJMessenger=function(){var e="[LIANJIA_Messenger_CROSS]",t="postMessage"in window;function r(e,t){var r="";if(arguments.length<2?r="target error - target and name are both requied":"object"!=n(e)?r="target error - target itself must be window object":"string"!=typeof t&&(r="target error - target name must be string type"),r)throw new Error(r);this.target=e,this.name=t}function o(t,r){this.targets={},this.name=t,this.listenFunc=[],"string"!=typeof(e=r||e)&&(e=e.toString()),this.initListen()}return r.prototype.send=t?function(t){this.target.postMessage(e+t,"*")}:function(t){var r=window.navigator[e+this.name];if("function"!=typeof r)throw new Error("target callback function is not defined");r(e+t,window)},o.prototype.addTarget=function(e,t){var n=new r(e,t);this.targets[t]=n},o.prototype.initListen=function(){var r=this,o=function(t){if("object"==n(t)&&t.data&&(t=t.data),t&&"string"==typeof t&&t.indexOf(e)>=0){t=t.slice(e.length);for(var o=0;o<r.listenFunc.length;o++)r.listenFunc[o](t)}};t?"addEventListener"in document?window.addEventListener("message",o,!1):"attachEvent"in document&&window.attachEvent("onmessage",o):window.navigator[e+this.name]=o},o.prototype.listen=function(e){this.listenFunc.push(e)},o.prototype.clear=function(){this.listenFunc=[]},o.prototype.send=function(e){var t,r=this.targets;for(t in r)r.hasOwnProperty(t)&&r[t].send(e)},o}()}],[[34,0]]]);
//# sourceMappingURL=common-8733ca34403a6f0e779d.js.map